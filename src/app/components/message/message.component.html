<div class="message" [class.user-message]="sender === 'User'" [class.ai-message]="sender === 'Ollama'">
  <div class="sender">
    <div class="sender-info">
      <span>{{ sender }}</span>
      <button
        *ngIf="sender === 'Ollama' && !isStreaming"
        class="copy-button"
        (click)="copyMessage()"
        title="Copy entire message">
        <span>{{ copied ? 'Copied!' : 'Copy' }}</span>
      </button>
      <span *ngIf="sender === 'Ollama' && isStreaming" class="streaming-indicator">
        <span class="dot"></span>
        <span class="dot"></span>
        <span class="dot"></span>
      </span>
    </div>
  </div>
  <div class="content">
    <markdown [data]="content" clipboard></markdown>
  </div>
</div>
